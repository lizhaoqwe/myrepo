function Index(){var e=this;e.page=2,e.newsGroup=$(".news-detail-ul"),e.category_id=0}Index.prototype.clickmore=function(){var o=this;$(".more").click(function(){xfzajax.get({url:"/news/news_list/",data:{p:o.page,category_id:o.category_id},success:function(e){if(200===e.code){var t=e.data;if(0<t.length){var n=template("news-item",{newses:t});o.newsGroup.append(n),o.page+=1}else $(".more").hide()}else console.log(e.code)}})})},Index.prototype.clickcategory=function(){var i=this;$(".news-group .news").children().click(function(){var o=$(this),a=o.attr("data-category");xfzajax.get({url:"/news/news_list/",data:{category_id:a,p:1},success:function(e){if(200===e.code){var t=e.data,n=template("news-item",{newses:t});i.newsGroup.empty(),i.newsGroup.append(n),i.page=2,i.category_id=a,o.children().addClass("toggle"),o.siblings("li").children().removeClass("toggle"),$(".more").show()}}})})},Index.prototype.run=function(){this.clickmore(),this.clickcategory()},$(function(){(new Index).run()});