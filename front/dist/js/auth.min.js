function Auth(){}Auth.prototype.header_login=function(){$(".header-group .header .login .header-login").click(function(){$(".wrapper-group").css("display","block"),$(".auth-group").css("height","265"),$(".auth").css({left:0}),$(".auth-group .item .item-left").addClass("itemActive"),$(".auth-group .item .item-right").removeClass("itemActive")})},Auth.prototype.header_register=function(){$(".header-group .header .login .header-register").click(function(){$(".wrapper-group").css("display","block"),$(".auth-group").css("height","450"),$(".auth").css({left:-300}),$(".auth-group .item .item-right").addClass("itemActive"),$(".auth-group .item .item-left").removeClass("itemActive")})},Auth.prototype.click_close=function(){$(".auth-header .close").click(function(){$(".wrapper-group").css("display","none")})},Auth.prototype.register_button=function(){$(".item-right").click(function(){$(".auth").animate({left:-300}),$(".auth-group").css("height","450"),$(".auth-group .item .item-right").addClass("itemActive"),$(".auth-group .item .item-left").removeClass("itemActive")})},Auth.prototype.login_button=function(){$(".item-left").click(function(){$(".auth").animate({left:0}),$(".auth-group").css("height","265"),$(".auth-group .item .item-left").addClass("itemActive"),$(".auth-group .item .item-right").removeClass("itemActive")})},Auth.prototype.loginevent=function(){var e=$(".auth .login"),n=e.find('input[name="telephone"]'),r=e.find('input[name="password"]'),a=e.find('input[name="remember"]');e.find(".submitbtn").click(function(){var e=n.val(),t=r.val(),o=a.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:e,password:t,remember:o?1:0},success:function(e){if(200==e.code)$(".wrapper-group").css("display","none"),window.location.reload();else{var t=e.message;if("string"==typeof t||t.constructor==String)window.messageBox.show(t);else for(i in t)window.messageBox.show(t[i][0])}},fail:function(e){console.log(e)}})})},Auth.prototype.imageCaptcha=function(){var e=$(".img-captcha");e.click(function(){e.attr("src","/account/img_captcha?random"+Math.random())})},Auth.prototype.registerevent=function(){$(".register .register-btn").click(function(){var e=$(".auth .register"),t=e.find('input[name="telephone"]').val(),o=e.find('input[name="username"]').val(),n=e.find('input[name="password"]').val(),r=e.find('input[name="re_password"]').val();console.log(t,o,n,r),xfzajax.post({url:"/account/register/",data:{telephone:t,username:o,password:n,re_password:r},success:function(e){if(200==e.code)window.location.reload();else{var t=e.message;if("string"==typeof t||t.constructor==String)window.messageBox.showError(t);else for(i in t)window.messageBox.showError(t[i][0])}},fail:function(e){window.messageBox.showError("服务器内部错误")}})})},Auth.prototype.run=function(){var e=this;e.header_login(),e.header_register(),e.click_close(),e.register_button(),e.login_button(),e.loginevent(),e.imageCaptcha(),e.registerevent()},$(function(){(new Auth).run()});